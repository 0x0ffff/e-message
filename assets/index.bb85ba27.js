var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(s,t,o)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o;import{p as r,a as c,h as i,o as u,c as m,b as p,F as f,w as d,d as g,e as y,f as v,r as b,g as C,i as h,j as k,T as w,k as $,l as T,m as L,v as _,n as x,q as H,s as M,t as O,u as S,x as j,y as E,z as I}from"./vendor.270665e1.js";const B={methods:{vnode(){this.$message({message:i("p",null,[i("span",null,"内容可以是 "),i("i",{style:"color: teal"},"VNode")])})}},setup(){}},N=d();r("data-v-8988f698");const P=g(" 基础用法： "),z=g(" 不同状态 "),U=g(" 可关闭 "),q=g(" 文字居中 "),A=g(" 使用 HTML 片段 ");c();const D=N(((e,s,t,o,n,a)=>(u(),m(f,null,[p("div",null,[P,p("button",{onClick:s[1]||(s[1]=s=>e.$message("打开消息通知"))},"打开消息通知"),p("button",{onClick:s[2]||(s[2]=(...e)=>a.vnode&&a.vnode(...e))},"VNode")]),p("div",null,[z,p("button",{onClick:s[3]||(s[3]=s=>e.$message({message:"恭喜你，这是一条成功消息",type:"success"}))},"成功"),p("button",{onClick:s[4]||(s[4]=s=>e.$message({message:"警告哦，这是一条警告消息",type:"warning"}))},"警告"),p("button",{onClick:s[5]||(s[5]=s=>e.$message("这是一条消息提示"))},"消息"),p("button",{onClick:s[6]||(s[6]=s=>e.$message({message:"错了哦，这是一条错误消息",type:"error"}))},"错误")]),p("div",null,[U,p("button",{onClick:s[7]||(s[7]=s=>e.$message({message:"恭喜你，这是一条成功消息",type:"success",showClose:!0}))},"成功"),p("button",{onClick:s[8]||(s[8]=s=>e.$message({message:"警告哦，这是一条警告消息",type:"warning",showClose:!0}))},"警告"),p("button",{onClick:s[9]||(s[9]=s=>e.$message({message:"这是一条消息提示",showClose:!0}))},"消息"),p("button",{onClick:s[10]||(s[10]=s=>e.$message({message:"错了哦，这是一条错误消息",type:"error",showClose:!0}))},"错误")]),p("div",null,[q,p("button",{onClick:s[11]||(s[11]=s=>e.$message({message:"这是一条消息提示",showClose:!0,center:!0}))},"居中")]),p("div",null,[A,p("button",{onClick:s[12]||(s[12]=s=>e.$message({dangerouslyUseHTMLString:!0,message:"<strong>这是 <i>HTML</i> 片段</strong>"}))},"使用 HTML 片段")])],64))));B.render=D,B.__scopeId="data-v-8988f698";const F={expose:[],setup:e=>(e,s)=>(u(),m(B))};const V={success:"success",info:"info",warning:"warning",error:"error"},G=y({name:"message",props:{customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},id:{type:String,default:""},message:{type:[String,Object],default:""},onClose:{type:Function,require:!0},showClose:{tyep:Boolean,default:!1},type:{type:String,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0}},emits:["destroy"],setup(e){const s=v((()=>{const s=e.type;return s&&V[s]?`icon-${V[s]}`:""})),t=v((()=>({top:`${e.offset}px`,zIndex:e.zIndex}))),o=b(!1);let n=null;function a(){e.duration>0&&(n=setTimeout((()=>{o.value&&l()}),e.duration))}function l(){o.value=!1}function r({code:e}){"Escape"===e?o.value&&l():a()}return C((()=>{a(),o.value=!0,function(e,s,t,o=!1){e&&s&&t&&e.addEventListener(s,t,o)}(document,"keydown",r)})),h((()=>{!function(e,s,t,o=!1){e&&s&&t&&e.removeEventListener(s,t,o)}(document,"keydown",r)})),{customStyle:t,typeClass:s,visible:o,close:l,startTimer:a,clearTimer:function(){clearTimeout(n),n=null}}}}),J={key:0,class:"message__content"};G.render=function(e,s,t,o,n,a){return $(),k(w,{name:"message-fade",onBeforeLeave:e.onClose,onAfterLeave:s[4]||(s[4]=s=>e.$emit("destroy"))},{default:T((()=>[L(x("div",{style:e.customStyle,class:["message",e.type?`${e.type}`:"",e.customClass,e.center?"is-center":"",e.showClose?"is-closetab":""],onMouseenter:s[2]||(s[2]=(...s)=>e.clearTimer&&e.clearTimer(...s)),onMouseleave:s[3]||(s[3]=(...s)=>e.startTimer&&e.startTimer(...s))},[e.type?($(),k("i",{key:0,class:[e.typeClass,"message__icon"]},null,2)):H("",!0),M(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?($(),k("p",{key:1,class:"message__content",innerHTML:e.message},null,8,["innerHTML"])):($(),k("p",J,S(e.message),1))])),e.showClose?($(),k("div",{key:1,class:"message__closeBtn icon-close",onClick:s[1]||(s[1]=O(((...s)=>e.close&&e.close(...s)),["stop"]))})):H("",!0)],38),[[_,e.visible]])])),_:3},8,["onBeforeLeave"])};let K=[],Q=1;const R=function(e={}){"string"==typeof e&&(e={message:e});let r=e,c=e.offset||20;K.forEach((({vm:e})=>{c+=(e.el.offsetHeight||0)+16})),c+=16;const i="message_"+Q++,u=r.onClose;var m;m=((e,s)=>{for(var t in s||(s={}))n.call(s,t)&&l(e,t,s[t]);if(o)for(var t of o(s))a.call(s,t)&&l(e,t,s[t]);return e})({},r),r=s(m,t({onClose:()=>{!function(e,s){const t=K.findIndex((({vm:s})=>{const{id:t}=s.component.props;return e===t}));if(-1===t)return;const{vm:o}=K[t];if(!o)return;null==s||s(o);const n=o.el.offsetHeight;K.splice(t,1);const a=K.length;if(!(a<1))for(let l=t;l<a;l++){const e=parseInt(K[l].vm.el.style.top,10)-n-16;K[l].vm.component.props.offset=e}}(i,u)},offset:c,id:i,zIndex:1}));const p=document.createElement("div");p.className=`container_${i}`;const f=r.message,d=x(G,r,j(r.message)?{default:()=>f}:null);return d.props.onDestroy=()=>{E(null,p)},E(d,p),K.push({vm:d}),document.body.appendChild(p.firstElementChild),{close:()=>d.component.proxy.visible=!1}};["success","info","warning","error"].forEach((e=>{R[e]=s=>("string"==typeof s||(s.type=e),R(s))})),R.closeAll=function(){for(let e=K.length-1;e>=0;e--){K[e].vm.component.ctx.close()}},R.install=e=>{e.config.globalProperties.$message=R};const W=I(F);W.use(R),W.mount("#app");
